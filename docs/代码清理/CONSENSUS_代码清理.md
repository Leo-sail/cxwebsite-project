# 代码清理共识文档

## 明确的需求描述

删除项目中多余的文件和代码、测试的文件和代码、无效的文件和代码，以优化项目结构和减少维护负担。

## 验收标准

### 必须完成的清理项目
1. **测试文件清理**
   - 删除 `src/test/` 目录及其所有内容
   - 删除空的 `src/tests/` 目录
   - 删除空的 `src/utils/__tests__/` 目录
   - 删除根目录的 `test-import.js` 临时测试文件

2. **备份文件清理**
   - 删除所有 `.backup` 后缀的文件
   - 包括：`Footer.tsx.backup`、`ContactPage.tsx.backup`、`HomePage.tsx.backup`、`TeachersPage.tsx.backup`、`components.css.backup`、`routes.ts.backup`

3. **重复文件清理**
   - 检查并删除功能重复的组件文件
   - 清理重复的 `ImageUpload.tsx` 和 `LazyImage.tsx`（已有目录版本）

### 验证标准
- 项目能够正常编译和运行
- 所有页面功能正常
- 开发服务器启动无错误
- 没有引用已删除文件的错误

## 技术实现方案

### 清理策略
1. **安全删除原则**
   - 逐步删除，每次删除后验证项目状态
   - 优先删除明确的测试和备份文件
   - 对于可能有引用的文件，先搜索引用关系

2. **文件分类处理**
   - **立即删除**: 测试文件、备份文件、临时文件
   - **检查后删除**: 重复组件文件
   - **保留**: 所有业务逻辑文件、配置文件、类型定义

### 技术约束
- 不影响现有功能
- 保持项目结构的合理性
- 确保所有导入路径有效

## 集成方案

### 与现有系统的集成
- 清理过程不影响正在运行的开发服务器
- 保持所有业务组件和服务的完整性
- 维护现有的路由和导航结构

## 任务边界限制

### 包含范围
- 测试相关文件和目录
- 备份文件（.backup后缀）
- 临时测试文件
- 空目录
- 重复的组件文件

### 排除范围
- 业务逻辑组件
- 配置文件（package.json, tsconfig.json等）
- 类型定义文件
- 服务层文件
- 路由配置
- 样式文件（除备份外）
- 文档文件（保留项目文档）

## 风险评估与控制

### 潜在风险
1. 误删正在使用的文件
2. 破坏组件间的依赖关系
3. 影响项目构建过程

### 控制措施
1. 每次删除前搜索文件引用
2. 分批删除，逐步验证
3. 保留所有核心业务文件
4. 删除后立即测试项目运行状态

## 确认的关键假设

1. **测试文件假设**: `src/test/` 和 `src/tests/` 目录中的文件都是开发测试用途，不是生产代码
2. **备份文件假设**: 所有 `.backup` 后缀的文件都是旧版本备份，可以安全删除
3. **临时文件假设**: `test-import.js` 是临时测试文件，不影响生产功能
4. **重复文件假设**: 同名的文件和目录版本中，目录版本是正在使用的版本

## 项目特性规范对齐

- 遵循现有的 TypeScript 严格模式
- 保持组件化架构不变
- 维护现有的代码风格和命名约定
- 确保清理后的项目结构更加清晰和易维护