# ALIGNMENT - 代码清理任务

## 项目上下文分析

### 项目结构
- **项目类型**: React + TypeScript + Vite 前端项目
- **技术栈**: React 18, TypeScript, Tailwind CSS, Supabase
- **架构模式**: 组件化架构，分层设计
- **依赖关系**: 基于 Supabase 的全栈应用

### 现有代码模式
- 组件化开发，使用 TypeScript 严格类型检查
- 模块化导入导出
- 统一的代码风格和命名规范
- 基于 hooks 的状态管理

### 业务域和数据模型
- 教育培训网站
- 包含课程、教师、文章、案例等核心业务模块
- 基于 component_text_storage 的动态内容管理

## 需求理解确认

### 原始需求
移除所有测试文件、测试代码、测试函数、无效代码、无效文件、无效函数、备份文件、备份代码、备份函数

### 边界确认
**包含范围:**
- 测试相关文件和目录 (__tests__, test/, tests/, *.test.*, *.spec.*)
- 备份文件 (*.backup, *.bak)
- 无效/未使用的代码文件
- Demo/示例代码文件
- 调试相关文件
- 临时文件和注释掉的代码块

**排除范围:**
- 生产环境必需的代码
- 配置文件中的示例配置项
- 有效的工具函数和组件
- 文档文件

### 需求理解
基于现有项目分析，需要清理的内容包括：

1. **空的测试目录**: 
   - `/src/components/__tests__/` (空目录)
   - `/src/test/` (空目录)
   - `/src/tests/` (空目录)
   - `/src/debug/` (空目录)
   - `/src/examples/` (空目录)

2. **备份文件**:
   - `/frontend/.env.backup`

3. **测试相关代码**:
   - `/src/utils/databaseTest.ts` (数据库测试工具)
   - `package.json` 中的测试脚本

4. **潜在的无效代码**:
   - 需要进一步分析的文件和函数

### 疑问澄清

**已确认的清理项目:**
1. 空的测试目录可以安全删除
2. .env.backup 备份文件可以删除
3. databaseTest.ts 是测试工具，可以删除
4. package.json 中的测试脚本可以移除

**需要进一步分析:**
1. 是否有其他隐藏的测试文件
2. 是否有注释掉的代码块需要清理
3. 是否有未使用的导入和函数
4. 是否有重复或冗余的代码

## 技术实现方案

### 清理策略
1. **安全删除**: 先分析依赖关系，确保删除不会破坏项目
2. **分步执行**: 按类型分批清理，每步验证项目完整性
3. **备份重要**: 在删除前确认没有重要代码
4. **验证测试**: 每次清理后运行编译检查

### 技术约束
- 保持项目可编译和运行
- 不破坏现有功能
- 保持代码结构清晰
- 遵循项目现有规范

### 集成方案
- 与现有构建系统兼容
- 保持开发服务器正常运行
- 确保生产构建不受影响

## 任务边界限制

### 明确边界
- **仅清理**: 不添加新功能
- **保持稳定**: 不修改核心业务逻辑
- **安全第一**: 有疑问的文件先保留

### 验收标准
1. 所有明确的测试文件和目录被删除
2. 备份文件被清理
3. 项目仍能正常编译和运行
4. 没有破坏现有功能
5. 代码结构更加清晰

## 确认所有不确定性已解决

### 已确认项目
- 空测试目录: 可以安全删除
- 备份文件: 可以删除
- 测试工具文件: 可以删除
- 测试脚本: 可以移除

### 待分析项目
- 需要扫描整个项目查找其他测试相关文件
- 需要分析代码中的注释块和无效代码
- 需要检查未使用的导入和函数

**状态**: 需要进入下一阶段进行详细架构分析