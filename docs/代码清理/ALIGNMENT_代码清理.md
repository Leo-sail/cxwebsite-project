# 代码清理任务对齐文档

## 项目上下文分析

### 现有项目结构
- **项目类型**: React + TypeScript + Vite 前端项目
- **技术栈**: React, TypeScript, Tailwind CSS, Supabase
- **架构模式**: 组件化架构，包含管理后台和用户前台
- **依赖关系**: 使用 Supabase 作为后端服务

### 现有代码模式
- 使用 TypeScript 严格类型检查
- 组件化开发模式
- 服务层抽象 (services/)
- 类型定义集中管理 (types/)
- 路由管理 (router/)
- 状态管理 (store/, contexts/)

### 业务域分析
- 课程管理系统
- 师资管理
- 学生案例管理
- 文章内容管理
- 页面配置管理

## 需求理解确认

### 原始需求
删除多余的文件和代码、测试的文件和代码、无效的文件和代码

### 边界确认
**包含范围:**
- 未使用的组件文件
- 重复的代码文件
- 过时的测试文件
- 无效的配置文件
- 临时文件和备份文件
- 未引用的资源文件
- 空的或无用的目录

**排除范围:**
- 正在使用的核心业务代码
- 必要的配置文件
- 有效的类型定义
- 活跃的组件和服务

### 需求理解
基于现有项目分析，需要清理的内容包括:
1. **测试相关**: `src/test/` 和 `src/tests/` 目录
2. **临时文件**: `test-import.js`
3. **重复文档**: 根目录下的分析报告文档
4. **未使用的资源**: 检查 public/images/ 中未引用的图片
5. **空目录**: 检查是否有空的功能目录

### 疑问澄清
1. **文档保留策略**: 根目录的 .md 文档是否需要保留？
2. **测试目录**: test/ 和 tests/ 目录是否完全删除？
3. **开发工具文件**: 如 test-import.js 等临时文件处理方式
4. **Supabase 函数**: supabase/functions/ 目录是否在使用？

## 智能决策策略

### 自动识别规则
1. **文件使用检查**: 通过代码搜索确认文件是否被引用
2. **目录空检查**: 识别空目录或只含无用文件的目录
3. **重复文件检查**: 识别功能重复的文件
4. **测试文件识别**: 识别测试相关文件和目录

### 决策优先级
1. **高优先级**: 明确的测试文件、临时文件
2. **中优先级**: 未引用的组件、重复文档
3. **低优先级**: 可能有用但不确定的文件

## 风险评估

### 潜在风险
- 误删正在使用的文件
- 删除有历史价值的文档
- 影响项目构建或运行

### 风险控制
- 逐步删除，每次删除后验证项目正常运行
- 保留重要配置和核心业务文件
- 对不确定的文件先移动到临时目录